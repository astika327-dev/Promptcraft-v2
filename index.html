<!doctype html>
<html lang="en" data-theme="dark">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>PromptCraft v2 — AI Prompt Builder</title>
  <meta name="description" content="Minimal, fast, and clean AI prompt builder with presets and autosave." />
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2280%22>⚙️</text></svg>">
  <style>
    :root{
      --bg:#0b1220; --panel:#0f1629; --muted:#93a2c2; --txt:#e9eefc; --brand:#6ea8ff; --ok:#38c172; --stroke:#1d2740;
      --radius:14px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; font:500 16px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif;
      color:var(--txt); background:
        radial-gradient(1200px 600px at 10% -10%, #17315f44, transparent 60%),
        radial-gradient(1000px 600px at 120% 10%, #1b3f7a33, transparent 60%),
        var(--bg);
    }
    a{color:var(--brand); text-decoration:none}
    .wrap{width:min(980px, 92%); margin:40px auto}
    header{display:flex; align-items:center; justify-content:space-between; gap:12px; margin-bottom:16px}
    .brand{font-weight:800; letter-spacing:.4px}
    .crumbs{color:var(--muted); font-size:.95rem}
    .panel{background:var(--panel); border:1px solid var(--stroke); border-radius:var(--radius); padding:20px}
    .grid{display:grid; gap:16px}
    .cols{grid-template-columns: 1fr}
    @media (min-width:900px){ .cols{grid-template-columns: 1.1fr 1fr} }
    label .hint{display:block; color:var(--muted); font-size:.85rem; margin-bottom:6px}
    input, textarea, select{
      width:100%; color:var(--txt); background:#0b1326; border:1px solid var(--stroke);
      border-radius:10px; padding:12px 12px; outline:none;
    }
    textarea{min-height:120px; resize:vertical}
    .row{display:flex; flex-wrap:wrap; gap:12px; align-items:center}
    .btn{
      display:inline-flex; align-items:center; justify-content:center; gap:8px;
      padding:10px 14px; border-radius:10px; border:1px solid var(--stroke); background:#0b1326; color:var(--txt);
      cursor:pointer; user-select:none; font-weight:600;
    }
    .btn.primary{background:var(--brand); color:#071022; border-color:#6ea8ff}
    .btn.ok{background:var(--ok); color:#04110a; border-color:#2da864}
    .btn.ghost{background:transparent}
    .muted{color:var(--muted)}
    .pill{background:#0b1326;border:1px solid var(--stroke);padding:2px 10px;border-radius:999px;font-size:.85rem;color:var(--muted)}
    footer{color:var(--muted); margin:28px 0 10px}
    .note{font-size:.9rem}
    .title{font-size:1.35rem; font-weight:800; margin:0 0 10px}
    .head{display:flex; align-items:center; justify-content:space-between; margin:8px 0 16px}
  </style>
</head>
<body>
  <main class="wrap">
    <header>
      <div class="brand">⚙️ PromptCraft <span class="pill">v2</span></div>
      <nav class="crumbs">
        <a href="https://astika327-dev.github.io/portofolio/">← Back to Portfolio</a>
      </nav>
    </header>

    <!-- Builder -->
    <section class="panel grid cols" aria-label="Prompt Builder">
      <div>
        <div class="head">
          <h2 class="title">Prompt Builder</h2>
          <span class="muted">Presets + Autosave</span>
        </div>

        <div class="grid" style="gap:14px">
          <label class="field">
            <span class="hint">Preset</span>
            <select id="preset"></select>
          </label>

          <label class="field">
            <span class="hint">Role</span>
            <textarea id="role" placeholder="You are a helpful assistant..."></textarea>
          </label>

          <label class="field">
            <span class="hint">Goal (Tujuan)</span>
            <textarea id="goal" placeholder="Apa yang harus dicapai?"></textarea>
          </label>

          <div class="grid" style="grid-template-columns:1fr 1fr; gap:14px">
            <label class="field">
              <span class="hint">Audience</span>
              <input id="aud" type="text" placeholder="Siapa targetnya?" />
            </label>
            <label class="field">
              <span class="hint">Tone</span>
              <input id="tone" type="text" placeholder="Formal / Friendly / Persuasive" />
            </label>
          </div>

          <label class="field">
            <span class="hint">Constraints (Batasan)</span>
            <textarea id="cons" placeholder="Panjang maksimal, gaya, bahasa, CTA, dsb."></textarea>
          </label>

          <div class="row">
            <button class="btn primary" id="gen">Generate</button>
            <button class="btn ghost" id="clear">Clear</button>
            <span class="muted">Tip: ketik dulu, baru pilih preset untuk contoh struktur.</span>
          </div>
        </div>
      </div>

      <div>
        <div class="head">
          <h2 class="title">Preview</h2>
          <span class="muted">Copy or refine</span>
        </div>
        <label class="field">
          <span class="hint">Output</span>
          <textarea id="out" placeholder="Hasil prompt akan muncul di sini..."></textarea>
        </label>
        <div class="row" style="margin-top:10px">
          <button class="btn ok" id="copy">Copy</button>
          <a class="btn" id="dl" download="prompt.txt">Download .txt</a>
        </div>
        <p class="note muted" style="margin-top:10px">
          ⚠️ Work in progress. This is a functional placeholder while the full app is being built.
        </p>
      </div>
    </section>

    <footer class="wrap">
      <p class="muted">© 2025 Putu Astika — PromptCraft. Made with vanilla HTML/CSS/JS.</p>
    </footer>
  </main>

  <!-- Single-file JS -->
  <script>
    // ---------- helpers ----------
    const $ = id => document.getElementById(id);
    const role=$("role"), goal=$("goal"), aud=$("aud"), tone=$("tone"), cons=$("cons");
    const out=$("out"), gen=$("gen"), copyBtn=$("copy"), clearBtn=$("clear");
    const presetSel = $("preset"), dl = $("dl");

    // ---------- presets ----------
    const PRESETS = [
      { name:"Blank", data:{role:"",goal:"",aud:"",tone:"",cons:""} },
      { name:"IG Caption (Sale)", data:{
        role:"You are a helpful copywriter for small businesses.",
        goal:"Write an Instagram caption to promote a weekend sale.",
        aud:"Local audience in Bali, Bahasa Indonesia.",
        tone:"Friendly",
        cons:"Maks 80 kata. Sertakan 1 CTA & 2 hashtag relevan."
      }},
      { name:"Cold Email (Website Offer)", data:{
        role:"You are a persuasive sales assistant.",
        goal:"Draft a short cold email offering website creation for SMEs.",
        aud:"Small business owners; polite & concise.",
        tone:"Professional",
        cons:"≤120 words. Include CTA to WhatsApp: +62 821 4617 8461."
      }},
      { name:"AI Prompt — Product Description", data:{
        role:"You are an expert product copywriter.",
        goal:"Create a compelling product description for an online shop.",
        aud:"Shoppers aged 18–35; Bahasa Indonesia.",
        tone:"Persuasive",
        cons:"60–90 kata, fokus pada benefit, akhiri dengan CTA singkat."
      }}
    ];

    function fill(d){ if(!d) return;
      role.value=d.role||""; goal.value=d.goal||""; aud.value=d.aud||"";
      tone.value=d.tone||""; cons.value=d.cons||"";
    }

    // ---------- autosave ----------
    const LS_KEY="promptcraft_draft_v2";
    function saveDraft(){
      localStorage.setItem(LS_KEY, JSON.stringify({
        role:role.value, goal:goal.value, aud:aud.value, tone:tone.value, cons:cons.value
      }));
    }
    function restoreDraft(){
      try{ const x=JSON.parse(localStorage.getItem(LS_KEY)||""); if(x) fill(x); }catch{}
    }
    [role,goal,aud,tone,cons].forEach(el=>el.addEventListener("input",saveDraft));

    // ---------- builder ----------
    function buildPrompt(){
      const lines=[];
      if(role.value.trim()) lines.push(`You are: ${role.value.trim()}`);
      if(goal.value.trim()) lines.push(`Task: ${goal.value.trim()}`);
      if(aud.value.trim())  lines.push(`Audience: ${aud.value.trim()}`);
      if(tone.value.trim()) lines.push(`Tone: ${tone.value.trim()}`);
      if(cons.value.trim()) lines.push(`Constraints: ${cons.value.trim()}`);
      lines.push("Output: Provide a clear, structured result.");
      return lines.join("\n\n");
    }

    // ---------- actions ----------
    gen.addEventListener("click", ()=>{
      out.value = buildPrompt();
      const blob = new Blob([out.value], {type:"text/plain"});
      dl.href = URL.createObjectURL(blob);
    });

    copyBtn.addEventListener("click", async ()=>{
      if(!out.value.trim()) out.value=buildPrompt();
      try{
        await navigator.clipboard.writeText(out.value);
        const prev=copyBtn.textContent; copyBtn.textContent="Copied!"; setTimeout(()=>copyBtn.textContent=prev,1400);
      }catch(e){ alert("Clipboard blocked. Copy manually."); }
    });

    clearBtn.addEventListener("click", ()=>{
      [role,goal,aud,tone,cons,out].forEach(el=>el.value="");
      localStorage.removeItem(LS_KEY);
    });

    function initPresets(){
      PRESETS.forEach((p,i)=>{
        const o=document.createElement("option"); o.value=i; o.textContent=p.name; presetSel.appendChild(o);
      });
      presetSel.addEventListener("change", ()=>{
        const p=PRESETS[+presetSel.value]; fill(p?.data); saveDraft(); out.value=buildPrompt();
      });
    }

    // ---------- boot ----------
    restoreDraft();
    initPresets();
    out.value = out.value || buildPrompt();
    const blob = new Blob([out.value], {type:"text/plain"});
    dl.href = URL.createObjectURL(blob);
  </script>
</body>
</html>
